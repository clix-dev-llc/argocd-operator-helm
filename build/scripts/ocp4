#!/usr/bin/env bash
set -e

# Environment: dev, ci, release
export ENVIRONMENT=dev

# Distribution: k8s, ocp3, ocp4
export DISTRIBUTION=ocp4

export CRC_VERSION=1.9.0-4.3.10

export MEMORY=24000


build/scripts/build/build
build/scripts/build/push

build/scripts/build/generate

build/scripts/test/${DISTRIBUTION}/crc-start

build/scripts/test/ocp/operator-olm-install
build/scripts/test/ocp/operator-olm-uninstall

build/scripts/test/ocp/operator-manual-install
build/scripts/test/ocp/operator-manual-uninstall

build/scripts/test/ocp/operator-olm-install
build/scripts/test/ocp/argocd-install
build/scripts/test/ocp/argocd-uninstall
build/scripts/test/ocp/argocd-oauth-install


#!/usr/bin/env bash
set -e

export ENVIRONMENT=dev
export DISTRIBUTION=k8s
export MINIKUBE_VERSION=v1.9.2
export KUBERNETES_VERSION=v1.14.0
export OLM_VERSION=0.13.0
export MEMORY=16144

build/scripts/build/build
build/scripts/build/push

build/scripts/build/generate

build/scripts/test/${DISTRIBUTION}/start

build/scripts/test/common/install-olm
build/scripts/test/${DISTRIBUTION}/test-operator
build/scripts/test/${DISTRIBUTION}/test-argocd

#build/scripts/test/${DISTRIBUTION}/test-cleanup
#build/scripts/test/${DISTRIBUTION}/stop
